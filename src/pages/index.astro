---
import Layout from "../layouts/Layout.astro";
import Badge from "../components/Badge.astro";
import LinkedInIcon from "../components/icons/LinkedIn.astro";
import GitHubIcon from "../components/icons/GitHub.astro";
import ResearchGateIcon from "../components/icons/ResearchGate.astro";
import CodeIcon from "../components/icons/Code.astro";
import BriefCaseIcon from "../components/icons/BriefCase.astro";
import MailIcon from "../components/icons/Mail.astro";
import ContactIcon from "../components/icons/Contact.astro";
import UserIcon from "../components/icons/User.astro";
import SocialContainer from "../components/SocialContainer.astro";
import Experience from "../components/Experience.astro";
import Projects from "../components/Projects.astro";
import SectionContainer from "../components/SectionContainer.astro";
import About from "../components/About.astro";
import Contact from "../components/Contact.astro";

const MAIL = "alecuba96@gmail.com";
const PHONE = "+34 600 96 28 35";
const yearsOfExpertise = calculateAge(new Date(2018, 8, 1));
const STATUS = {
  AVAILABLE: {
    text: "Available for hire",
    class: "bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",
  },
  LISTING: {
    text: "Listening to offers",
    class:
      "bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300 ",
  },
  WORKING: {
    text: "Working",
    class: "bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300 ",
  },
};

const SOCIALPROFILES = [
  {
    href: `www.linkedin.com/in/manuel-alejandro-naranjo-rey`,
    name: "LinkedIn",
    icon: LinkedInIcon,
  },
  {
    href: `https://github.com/MANR1996`,
    name: "GitHub",
    icon: GitHubIcon,
  },
  {
    href: `https://www.researchgate.net/profile/Manuel-Alejandro-Naranjo-Rey`,
    name: "ResearchGate",
    icon: ResearchGateIcon,
  },
  {
    href: `mailto:${MAIL}`,
    name: MAIL,
    icon: MailIcon,
  },
];

function calculateAge(bornDate: Date) {
  bornDate = new Date(bornDate);
  var actualDate = new Date();

  var years = actualDate.getFullYear() - bornDate.getFullYear();

  if (
    actualDate.getMonth() < bornDate.getMonth() ||
    (actualDate.getMonth() == bornDate.getMonth() &&
      actualDate.getDate() < bornDate.getDate())
  ) {
    years--;
  }

  return years;
}
---

<Layout
  title="Resume of AleDev. Desarrollador y Programador Web"
  description=`Contrata a AleDev. Desarrollador y Programador Web con ${yearsOfExpertise} a√±os de experiencia y sumando.`
>
  <main class="px-4">
    <SectionContainer class="lg:pt-44 pt-24 lg:pb-24 pb-12">
      <h1
        class="text-black flex text-3xl md:text-4xl lg:text-5xl font-bold flex-row gap-x-4 pb-4"
      >
        Hi, I am Alejandro<div class="flex justify-center items-center">
          <a class="flex" href={`mailto:${MAIL}`}>
            <Badge
              text={STATUS.AVAILABLE.text}
              class={STATUS.AVAILABLE.class}
            />
          </a>
        </div>
      </h1>
      <h2 class="lg:text-2xl text-xl opacity-50 pb-2 text-wrap max-w-[700px]">
        <span class="text-blue-600/80"
          >{yearsOfExpertise} a√±os de experiencia</span
        > en Desarrollo Web<span class="text-blue-600/80"> y sumando.</span>
        <!-- De Madrid, Espa√±a üá™üá∏. Me especializo en el frontend. -->
      </h2>
      <nav class="flex gap-x-4 gap-y-2 flex-wrap">
        {
          SOCIALPROFILES.map((profile) => (
            <SocialContainer href={profile.href}>
              <profile.icon class="size-5 rounded-md" /> {profile.name}
            </SocialContainer>
          ))
        }
      </nav>
    </SectionContainer>
    <SectionContainer id="about" class="mb-24">
      <h2
        class="opacity-70 text-2xl font-semibold mb-6 flex flex-row items-center gap-x-2"
      >
        <UserIcon class="size-6" />About me
      </h2>
      <About />
    </SectionContainer>
    <SectionContainer id="experience" class="mb-24">
      <h2
        class="opacity-70 text-2xl font-semibold mb-6 flex flex-row items-center gap-x-2"
      >
        <BriefCaseIcon class="size-6" />Experiencia Laboral
      </h2>
      <Experience />
    </SectionContainer>
    <SectionContainer id="projects">
      <h2
        class="opacity-70 text-2xl font-semibold mb-6 flex flex-row items-center gap-x-2"
      >
        <CodeIcon class="size-6" />Projects
      </h2>
      <Projects />
    </SectionContainer>
    <SectionContainer id="contact" class="mb-24">
      <h2
        class="opacity-70 text-2xl font-semibold mb-6 flex flex-row items-center gap-x-2"
      >
        <ContactIcon class="size-6" />Contact Me
      </h2>
      <Contact mail={MAIL} phone={PHONE} />
    </SectionContainer>
  </main>
</Layout>
